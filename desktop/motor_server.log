2025-10-16 05:24:20,459 - INFO - ==================================================
2025-10-16 05:24:20,459 - INFO - Starting Windows-Compatible Motor Control Server...
2025-10-16 05:24:20,459 - INFO - ==================================================
2025-10-16 05:24:20,459 - INFO - Server starting on http://127.0.0.1:3001
2025-10-16 05:24:20,460 - INFO - Available endpoints:
2025-10-16 05:24:20,460 - INFO -   GET  /status - Get current status
2025-10-16 05:24:20,460 - INFO -   POST /home - Home all motors
2025-10-16 05:24:20,461 - INFO -   POST /get_samples - Start sample collection
2025-10-16 05:24:20,461 - INFO -   POST /next_sample - Move to next sample
2025-10-16 05:24:20,461 - INFO -   POST /sync_mode - Sync with frontend LPF/HPF mode
2025-10-16 05:24:20,461 - INFO -   POST /configure_microscope - Configure microscope with motors
2025-10-16 05:24:20,461 - INFO -   POST /emergency_stop - Emergency stop
2025-10-16 05:24:20,462 - INFO - ==================================================
2025-10-16 05:24:20,462 - INFO - Running in Windows simulation mode
2025-10-16 05:24:20,462 - INFO - ==================================================
2025-10-16 05:24:20,482 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:3001
2025-10-16 05:24:20,482 - INFO - [33mPress CTRL+C to quit[0m
2025-10-16 05:24:35,454 - INFO - === GET SAMPLES ROUTINE STARTED ===
2025-10-16 05:24:35,454 - INFO - Starting 'Get Samples' routine...
2025-10-16 05:24:35,454 - INFO - Step 1: Homing motors
2025-10-16 05:24:35,454 - INFO - Starting motor homing sequence...
2025-10-16 05:24:35,455 - INFO - Moving X axis to home position
2025-10-16 05:24:35,455 - INFO - Simulating x motor movement: -5000 steps
2025-10-16 05:24:40,456 - INFO - Simulated x movement: -50.00mm. Current position: {'x': -50.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:24:40,456 - INFO - Moving Y axis to home position
2025-10-16 05:24:40,457 - INFO - Simulating y motor movement: -5000 steps
2025-10-16 05:24:45,458 - INFO - Simulated y movement: -50.00mm. Current position: {'x': -50.0, 'y': -50.0, 'z': 0.0}
2025-10-16 05:24:45,458 - INFO - Moving Z axis to home position
2025-10-16 05:24:45,459 - INFO - Simulating z motor movement: -4000 steps
2025-10-16 05:24:49,464 - INFO - Simulated z movement: -20.00mm. Current position: {'x': -50.0, 'y': -50.0, 'z': -20.0}
2025-10-16 05:24:49,496 - INFO - Motor homing sequence completed successfully
2025-10-16 05:24:49,506 - INFO - Motors homed. Position reset to: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:24:49,538 - INFO - Step 2: Moving to LPF sample 1 position
2025-10-16 05:24:49,543 - INFO - Target LPF_1 position: {'x': 2, 'y': 2, 'z': 0}
2025-10-16 05:24:49,577 - INFO - Starting movement to position: x=2, y=2, z=0
2025-10-16 05:24:49,581 - INFO - Current position: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:24:49,582 - INFO - Calculated steps: x=200, y=200, z=0
2025-10-16 05:24:49,582 - INFO - Moving X axis by 200 steps
2025-10-16 05:24:49,582 - INFO - Simulating x motor movement: 200 steps
2025-10-16 05:24:49,784 - INFO - Simulated x movement: 2.00mm. Current position: {'x': 2.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:24:49,784 - INFO - Moving Y axis by 200 steps
2025-10-16 05:24:49,784 - INFO - Simulating y motor movement: 200 steps
2025-10-16 05:24:49,985 - INFO - Simulated y movement: 2.00mm. Current position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:24:49,985 - INFO - Z axis already at target position
2025-10-16 05:24:49,985 - INFO - Movement completed. Final position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:24:49,986 - INFO - Current sample set to: lpf_1
2025-10-16 05:24:49,986 - INFO - LPF sample 1 positioned successfully. Response: {'status': 'success', 'message': 'LPF sample 1/10 ready for capture', 'sample': 'lpf_1', 'sample_number': 1, 'total_samples': 10, 'field_type': 'lpf', 'position': {'x': 2.0, 'y': 2.0, 'z': 0.0}, 'ready_for_capture': True}
2025-10-16 05:24:49,986 - INFO - === GET SAMPLES ROUTINE COMPLETED ===
2025-10-16 05:24:49,987 - INFO - 127.0.0.1 - - [16/Oct/2025 05:24:49] "POST /get_samples HTTP/1.1" 200 -
2025-10-16 05:24:56,710 - INFO - === GET SAMPLES ROUTINE STARTED ===
2025-10-16 05:24:56,711 - INFO - Starting 'Get Samples' routine...
2025-10-16 05:24:56,711 - INFO - Step 1: Homing motors
2025-10-16 05:24:56,711 - INFO - Starting motor homing sequence...
2025-10-16 05:24:56,711 - INFO - Moving X axis to home position
2025-10-16 05:24:56,712 - INFO - Simulating x motor movement: -5000 steps
2025-10-16 05:25:01,712 - INFO - Simulated x movement: -50.00mm. Current position: {'x': -48.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:25:01,713 - INFO - Moving Y axis to home position
2025-10-16 05:25:01,713 - INFO - Simulating y motor movement: -5000 steps
2025-10-16 05:25:06,714 - INFO - Simulated y movement: -50.00mm. Current position: {'x': -48.0, 'y': -48.0, 'z': 0.0}
2025-10-16 05:25:06,715 - INFO - Moving Z axis to home position
2025-10-16 05:25:06,715 - INFO - Simulating z motor movement: -4000 steps
2025-10-16 05:25:10,717 - INFO - Simulated z movement: -20.00mm. Current position: {'x': -48.0, 'y': -48.0, 'z': -20.0}
2025-10-16 05:25:10,717 - INFO - Motor homing sequence completed successfully
2025-10-16 05:25:10,718 - INFO - Motors homed. Position reset to: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:25:10,718 - INFO - Step 2: Moving to LPF sample 1 position
2025-10-16 05:25:10,718 - INFO - Target LPF_1 position: {'x': 2, 'y': 2, 'z': 0}
2025-10-16 05:25:10,718 - INFO - Starting movement to position: x=2, y=2, z=0
2025-10-16 05:25:10,719 - INFO - Current position: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:25:10,719 - INFO - Calculated steps: x=200, y=200, z=0
2025-10-16 05:25:10,719 - INFO - Moving X axis by 200 steps
2025-10-16 05:25:10,719 - INFO - Simulating x motor movement: 200 steps
2025-10-16 05:25:10,920 - INFO - Simulated x movement: 2.00mm. Current position: {'x': 2.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:25:10,921 - INFO - Moving Y axis by 200 steps
2025-10-16 05:25:10,921 - INFO - Simulating y motor movement: 200 steps
2025-10-16 05:25:11,121 - INFO - Simulated y movement: 2.00mm. Current position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:25:11,121 - INFO - Z axis already at target position
2025-10-16 05:25:11,122 - INFO - Movement completed. Final position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:25:11,122 - INFO - Current sample set to: lpf_1
2025-10-16 05:25:11,122 - INFO - LPF sample 1 positioned successfully. Response: {'status': 'success', 'message': 'LPF sample 1/10 ready for capture', 'sample': 'lpf_1', 'sample_number': 1, 'total_samples': 10, 'field_type': 'lpf', 'position': {'x': 2.0, 'y': 2.0, 'z': 0.0}, 'ready_for_capture': True}
2025-10-16 05:25:11,122 - INFO - === GET SAMPLES ROUTINE COMPLETED ===
2025-10-16 05:25:11,123 - INFO - 127.0.0.1 - - [16/Oct/2025 05:25:11] "POST /get_samples HTTP/1.1" 200 -
2025-10-16 05:25:29,034 - INFO - === GET SAMPLES ROUTINE STARTED ===
2025-10-16 05:25:29,034 - INFO - Starting 'Get Samples' routine...
2025-10-16 05:25:29,035 - INFO - Step 1: Homing motors
2025-10-16 05:25:29,035 - INFO - Starting motor homing sequence...
2025-10-16 05:25:29,036 - INFO - Moving X axis to home position
2025-10-16 05:25:29,036 - INFO - Simulating x motor movement: -5000 steps
2025-10-16 05:25:34,036 - INFO - Simulated x movement: -50.00mm. Current position: {'x': -48.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:25:34,037 - INFO - Moving Y axis to home position
2025-10-16 05:25:34,037 - INFO - Simulating y motor movement: -5000 steps
2025-10-16 05:25:39,038 - INFO - Simulated y movement: -50.00mm. Current position: {'x': -48.0, 'y': -48.0, 'z': 0.0}
2025-10-16 05:25:39,039 - INFO - Moving Z axis to home position
2025-10-16 05:25:39,040 - INFO - Simulating z motor movement: -4000 steps
2025-10-16 05:25:43,041 - INFO - Simulated z movement: -20.00mm. Current position: {'x': -48.0, 'y': -48.0, 'z': -20.0}
2025-10-16 05:25:43,042 - INFO - Motor homing sequence completed successfully
2025-10-16 05:25:43,042 - INFO - Motors homed. Position reset to: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:25:43,042 - INFO - Step 2: Moving to LPF sample 1 position
2025-10-16 05:25:43,042 - INFO - Target LPF_1 position: {'x': 2, 'y': 2, 'z': 0}
2025-10-16 05:25:43,042 - INFO - Starting movement to position: x=2, y=2, z=0
2025-10-16 05:25:43,043 - INFO - Current position: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:25:43,043 - INFO - Calculated steps: x=200, y=200, z=0
2025-10-16 05:25:43,043 - INFO - Moving X axis by 200 steps
2025-10-16 05:25:43,043 - INFO - Simulating x motor movement: 200 steps
2025-10-16 05:25:43,244 - INFO - Simulated x movement: 2.00mm. Current position: {'x': 2.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:25:43,244 - INFO - Moving Y axis by 200 steps
2025-10-16 05:25:43,244 - INFO - Simulating y motor movement: 200 steps
2025-10-16 05:25:43,445 - INFO - Simulated y movement: 2.00mm. Current position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:25:43,445 - INFO - Z axis already at target position
2025-10-16 05:25:43,445 - INFO - Movement completed. Final position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:25:43,446 - INFO - Current sample set to: lpf_1
2025-10-16 05:25:43,446 - INFO - LPF sample 1 positioned successfully. Response: {'status': 'success', 'message': 'LPF sample 1/10 ready for capture', 'sample': 'lpf_1', 'sample_number': 1, 'total_samples': 10, 'field_type': 'lpf', 'position': {'x': 2.0, 'y': 2.0, 'z': 0.0}, 'ready_for_capture': True}
2025-10-16 05:25:43,446 - INFO - === GET SAMPLES ROUTINE COMPLETED ===
2025-10-16 05:25:43,447 - INFO - 127.0.0.1 - - [16/Oct/2025 05:25:43] "POST /get_samples HTTP/1.1" 200 -
2025-10-16 05:27:36,137 - INFO - === GET SAMPLES ROUTINE STARTED ===
2025-10-16 05:27:36,146 - INFO - Starting 'Get Samples' routine...
2025-10-16 05:27:36,150 - INFO - Step 1: Homing motors
2025-10-16 05:27:36,163 - INFO - Starting motor homing sequence...
2025-10-16 05:27:36,164 - INFO - Moving X axis to home position
2025-10-16 05:27:36,164 - INFO - Simulating x motor movement: -5000 steps
2025-10-16 05:27:41,166 - INFO - Simulated x movement: -50.00mm. Current position: {'x': -48.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:27:41,166 - INFO - Moving Y axis to home position
2025-10-16 05:27:41,166 - INFO - Simulating y motor movement: -5000 steps
2025-10-16 05:27:46,167 - INFO - Simulated y movement: -50.00mm. Current position: {'x': -48.0, 'y': -48.0, 'z': 0.0}
2025-10-16 05:27:46,168 - INFO - Moving Z axis to home position
2025-10-16 05:27:46,169 - INFO - Simulating z motor movement: -4000 steps
2025-10-16 05:27:50,170 - INFO - Simulated z movement: -20.00mm. Current position: {'x': -48.0, 'y': -48.0, 'z': -20.0}
2025-10-16 05:27:50,170 - INFO - Motor homing sequence completed successfully
2025-10-16 05:27:50,171 - INFO - Motors homed. Position reset to: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:27:50,171 - INFO - Step 2: Moving to LPF sample 1 position
2025-10-16 05:27:50,171 - INFO - Target LPF_1 position: {'x': 2, 'y': 2, 'z': 0}
2025-10-16 05:27:50,172 - INFO - Starting movement to position: x=2, y=2, z=0
2025-10-16 05:27:50,172 - INFO - Current position: {'x': 0.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:27:50,172 - INFO - Calculated steps: x=200, y=200, z=0
2025-10-16 05:27:50,172 - INFO - Moving X axis by 200 steps
2025-10-16 05:27:50,172 - INFO - Simulating x motor movement: 200 steps
2025-10-16 05:27:50,373 - INFO - Simulated x movement: 2.00mm. Current position: {'x': 2.0, 'y': 0.0, 'z': 0.0}
2025-10-16 05:27:50,374 - INFO - Moving Y axis by 200 steps
2025-10-16 05:27:50,375 - INFO - Simulating y motor movement: 200 steps
2025-10-16 05:27:50,576 - INFO - Simulated y movement: 2.00mm. Current position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:27:50,577 - INFO - Z axis already at target position
2025-10-16 05:27:50,578 - INFO - Movement completed. Final position: {'x': 2.0, 'y': 2.0, 'z': 0.0}
2025-10-16 05:27:50,579 - INFO - Current sample set to: lpf_1
2025-10-16 05:27:50,580 - INFO - LPF sample 1 positioned successfully. Response: {'status': 'success', 'message': 'LPF sample 1/10 ready for capture', 'sample': 'lpf_1', 'sample_number': 1, 'total_samples': 10, 'field_type': 'lpf', 'position': {'x': 2.0, 'y': 2.0, 'z': 0.0}, 'ready_for_capture': True}
2025-10-16 05:27:50,581 - INFO - === GET SAMPLES ROUTINE COMPLETED ===
2025-10-16 05:27:50,582 - INFO - 127.0.0.1 - - [16/Oct/2025 05:27:50] "POST /get_samples HTTP/1.1" 200 -
